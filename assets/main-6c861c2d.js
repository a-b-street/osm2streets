import{S as re,i as ie,s as ne,e as Je,a as _,t as w,g as Se,b as C,c as Ie,d as g,f as Mt,h as Tt,m as St,j as K,o as gt,k as Me,l as It,n as jt,p as m,q as ht,u as bt,r as kt,v as yt,w as Nt,x as ve,L as Bt,y as Re,z as N,A as B,B as Ae,C as z,D as zt,E as Le,F as Pt,G as Ne,H as R,I as Te,J as vt,K as u,M as Pe,N as pe,O as V,P as Xe,Q as wt,R as he,T as De,U as v,V as ee,W as Ye,X as Ct,Y as $e,Z as Ee,_ as Ot,$ as de,a0 as He,a1 as xe,a2 as Ge,a3 as qe,a4 as Fe,a5 as Ue,a6 as Lt,a7 as Jt,a8 as Rt,a9 as At,aa as Dt,ab as Et,ac as Ht,ad as Gt,ae as Ft,af as Wt,ag as qt,ah as Ut,ai as Vt,aj as Kt,ak as Zt,al as Qt}from"./RenderLanePolygons-4ba875e3.js";const Xt=s=>({features:s[0]&16,data:s[0]&16,map:s[0]&4,close:s[0]&1}),et=s=>{var e;return{features:s[4],data:(e=s[4])==null?void 0:e[0],map:s[2],close:s[31]}};function tt(s){let e,n,t=(s[4]||s[3]instanceof Me.Marker)&&nt(s);return{c(){e=m("div"),t&&t.c()},m(l,o){_(l,e,o),t&&t.m(e,null),s[32](e),n=!0},p(l,o){l[4]||l[3]instanceof Me.Marker?t?(t.p(l,o),o[0]&24&&w(t,1)):(t=nt(l),t.c(),w(t,1),t.m(e,null)):t&&(Se(),C(t,1,1,()=>{t=null}),Ie())},i(l){n||(w(t),n=!0)},o(l){C(t),n=!1},d(l){l&&g(e),t&&t.d(),s[32](null)}}}function nt(s){let e;const n=s[30].default,t=ht(n,s,s[29],et);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o[0]&536870933)&&bt(t,n,l,l[29],e?yt(n,l[29],o,Xt):kt(l[29]),et)},i(l){e||(w(t,l),e=!0)},o(l){C(t,l),e=!1},d(l){t&&t.d(l)}}}function Yt(s){let e,n,t=s[9].default&&tt(s);return{c(){t&&t.c(),e=Je()},m(l,o){t&&t.m(l,o),_(l,e,o),n=!0},p(l,o){l[9].default?t?(t.p(l,o),o[0]&512&&w(t,1)):(t=tt(l),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(Se(),C(t,1,1,()=>{t=null}),Ie())},i(l){n||(w(t),n=!0)},o(l){C(t),n=!1},d(l){l&&g(e),t&&t.d(l)}}}function $t(s,e,n){let t,l,o,r,f,i,{$$slots:a={},$$scope:b}=e;const O=Mt(a);let{closeButton:M=void 0}=e,{closeOnClickOutside:k=!0}=e,{closeOnClickInside:I=!1}=e,{closeOnMove:h=!1}=e,{openOn:y="click"}=e,{openIfTopMost:J=!0}=e,{focusAfterOpen:S=!0}=e,{anchor:G=void 0}=e,{offset:F=void 0}=e,{popupClass:X=void 0}=e,{maxWidth:D=void 0}=e,{lngLat:W=void 0}=e,{html:U=void 0}=e,{open:E=!1}=e;const Y=Tt(),{map:Z,popupTarget:d,layerEvent:le,layer:q,eventTopMost:oe}=St();K(s,Z,c=>n(2,o=c)),K(s,d,c=>n(3,f=c)),K(s,le,c=>n(28,r=c)),K(s,q,c=>n(35,i=c));const H=["click","dblclick","contextmenu"];let p,j=!1,P;function L(){if(!p)return;let c=p.getElement();!c||c===P||(P=c,y==="hover"&&(P.style.pointerEvents="none"),P.addEventListener("mouseenter",()=>{n(24,j=!0)},{passive:!0}),P.addEventListener("mouseleave",()=>{n(24,j=!1)},{passive:!0}),P.addEventListener("click",()=>{I&&n(0,E=!1)},{passive:!0}))}gt(()=>{if(o)return o.on("click",ue),o.on("contextmenu",ue),typeof f=="string"&&(o.on("click",f,fe),o.on("dblclick",f,fe),o.on("contextmenu",f,fe),o.on("mousemove",f,ge),o.on("mouseleave",f,Ce),o.on("touchstart",f,we),o.on("touchend",f,be)),()=>{o!=null&&o.loaded()&&(p==null||p.remove(),o.off("click",ue),o.off("contextmenu",ue),f instanceof Me.Marker?f.getPopup()===p&&f.setPopup(void 0):typeof f=="string"&&(o.off("click",f,fe),o.off("dblclick",f,fe),o.off("contextmenu",f,fe),o.off("mousemove",f,ge),o.off("mouseleave",f,Ce),o.off("touchstart",f,we),o.off("touchend",f,be)))}});function se(c){return J?!("marker"in c)&&!Nt(c)&&oe(c)!==i:!1}let $=null,x="normal";function fe(c){c.type===y&&(se(c)||("layerType"in c?c.layerType==="deckgl"?(n(10,W=c.coordinate),n(4,$=c.object?[c.object]:null)):(n(10,W=c.lngLat),n(4,$=c.features??[])):(n(10,W=c.lngLat),n(4,$=c.features??[])),setTimeout(()=>n(0,E=!0))))}let ce=null;function we(c){ce=c.point}function be(c){if(!ce||y!=="hover")return;let me=ce.dist(c.point);ce=null,me<3&&(n(10,W=c.lngLat),n(4,$=c.features??[]),p.isOpen()?n(25,x="justOpened"):(n(25,x="opening"),n(0,E=!0)))}function Ce(c){y!=="hover"||ce||x!=="normal"||(n(0,E=!1),n(4,$=null))}function ge(c){if(!(y!=="hover"||ce||x!=="normal")){if(se(c)){n(0,E=!1),n(4,$=null);return}n(0,E=!0),n(4,$=c.features??[]),n(10,W=c.lngLat)}}function ue(c){if(x==="justOpened"){n(25,x="normal");return}if(!k)return;let me=[P,f instanceof Me.Marker?f==null?void 0:f.getElement():null];E&&p.isOpen()&&!me.some(_e=>_e==null?void 0:_e.contains(c.originalEvent.target))&&(c.type==="contextmenu"&&y==="contextmenu"||c.type!=="contextmenu")&&n(0,E=!1)}It(()=>{o&&(p!=null&&p.isOpen())&&p.remove()});let ae;const Be=()=>n(0,E=!1);function ke(c){ve[c?"unshift":"push"](()=>{ae=c,n(1,ae)})}return s.$$set=c=>{"closeButton"in c&&n(11,M=c.closeButton),"closeOnClickOutside"in c&&n(12,k=c.closeOnClickOutside),"closeOnClickInside"in c&&n(13,I=c.closeOnClickInside),"closeOnMove"in c&&n(14,h=c.closeOnMove),"openOn"in c&&n(15,y=c.openOn),"openIfTopMost"in c&&n(16,J=c.openIfTopMost),"focusAfterOpen"in c&&n(17,S=c.focusAfterOpen),"anchor"in c&&n(18,G=c.anchor),"offset"in c&&n(19,F=c.offset),"popupClass"in c&&n(20,X=c.popupClass),"maxWidth"in c&&n(21,D=c.maxWidth),"lngLat"in c&&n(10,W=c.lngLat),"html"in c&&n(22,U=c.html),"open"in c&&n(0,E=c.open),"$$scope"in c&&n(29,b=c.$$scope)},s.$$.update=()=>{if(s.$$.dirty[0]&14336&&n(27,t=M??(!k&&!I)),s.$$.dirty[0]&146685952&&(p||(n(23,p=new Me.Popup({closeButton:t,closeOnClick:!1,closeOnMove:h,focusAfterOpen:S,maxWidth:D,className:X,anchor:G,offset:F})),P=p.getElement(),p.on("open",()=>{n(0,E=!0),L(),Y("open",p)}),p.on("close",()=>{n(0,E=!1),Y("close",p)}),p.on("hover",()=>{Y("hover",p)}))),s.$$.dirty[0]&8421384&&p&&f instanceof Me.Marker&&(y==="click"?f.setPopup(p):f.getPopup()===p&&f.setPopup(void 0)),s.$$.dirty[0]&268468224&&H.includes(y)&&(r==null?void 0:r.type)===y&&(fe(r),jt(le,r=null,r)),s.$$.dirty[0]&268468224&&n(26,l=y==="hover"&&((r==null?void 0:r.type)==="mousemove"||(r==null?void 0:r.type)==="mouseenter")),s.$$.dirty[0]&352354304&&y==="hover"&&le&&(l&&r&&(r.layerType==="deckgl"?(n(10,W=r.coordinate),n(4,$=r.object?[r.object]:null)):(n(10,W=r.lngLat),n(4,$=r.features??[]))),n(0,E=(l||j)??!1)),s.$$.dirty[0]&12582914&&(ae?p.setDOMContent(ae):U&&p.setHTML(U)),s.$$.dirty[0]&8389632&&W&&p.setLngLat(W),s.$$.dirty[0]&41943045&&o){let c=p.isOpen();E&&!c?(p.addTo(o),x==="opening"&&n(25,x="justOpened")):!E&&c&&p.remove()}},[E,ae,o,f,$,Z,d,le,q,O,W,M,k,I,h,y,J,S,G,F,X,D,U,p,j,x,l,t,r,b,a,Be,ke]}class Ve extends re{constructor(e){super(),ie(this,e,$t,Yt,ne,{closeButton:11,closeOnClickOutside:12,closeOnClickInside:13,closeOnMove:14,openOn:15,openIfTopMost:16,focusAfterOpen:17,anchor:18,offset:19,popupClass:20,maxWidth:21,lngLat:10,html:22,open:0},null,[-1,-1])}}function xt(s){let e;const n=s[16].default,t=ht(n,s,s[24],null);return{c(){t&&t.c()},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&16777216)&&bt(t,n,l,l[24],e?yt(n,l[24],o,null):kt(l[24]),null)},i(l){e||(w(t,l),e=!0)},o(l){C(t,l),e=!1},d(l){t&&t.d(l)}}}function en(s){let e,n,t;function l(r){s[17](r)}let o={id:s[1],type:"symbol",source:s[2],sourceLayer:s[3],beforeId:s[4],beforeLayerType:s[5],paint:s[6],layout:s[7],filter:s[8],applyToClusters:s[9],minzoom:s[10],maxzoom:s[11],hoverCursor:s[12],manageHoverState:s[13],eventsIfTopMost:s[14],interactive:s[15],$$slots:{default:[xt]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.hovered=s[0]),e=new Bt({props:o}),ve.push(()=>Re(e,"hovered",l)),e.$on("click",s[18]),e.$on("dblclick",s[19]),e.$on("contextmenu",s[20]),e.$on("mouseenter",s[21]),e.$on("mousemove",s[22]),e.$on("mouseleave",s[23]),{c(){N(e.$$.fragment)},m(r,f){B(e,r,f),t=!0},p(r,[f]){const i={};f&2&&(i.id=r[1]),f&4&&(i.source=r[2]),f&8&&(i.sourceLayer=r[3]),f&16&&(i.beforeId=r[4]),f&32&&(i.beforeLayerType=r[5]),f&64&&(i.paint=r[6]),f&128&&(i.layout=r[7]),f&256&&(i.filter=r[8]),f&512&&(i.applyToClusters=r[9]),f&1024&&(i.minzoom=r[10]),f&2048&&(i.maxzoom=r[11]),f&4096&&(i.hoverCursor=r[12]),f&8192&&(i.manageHoverState=r[13]),f&16384&&(i.eventsIfTopMost=r[14]),f&32768&&(i.interactive=r[15]),f&16777216&&(i.$$scope={dirty:f,ctx:r}),!n&&f&1&&(n=!0,i.hovered=r[0],Ae(()=>n=!1)),e.$set(i)},i(r){t||(w(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function tn(s,e,n){let{$$slots:t={},$$scope:l}=e,{id:o=zt("symbol")}=e,{source:r=void 0}=e,{sourceLayer:f=void 0}=e,{beforeId:i=void 0}=e,{beforeLayerType:a=void 0}=e,{paint:b=void 0}=e,{layout:O=void 0}=e,{filter:M=void 0}=e,{applyToClusters:k=void 0}=e,{minzoom:I=void 0}=e,{maxzoom:h=void 0}=e,{hoverCursor:y=void 0}=e,{manageHoverState:J=!1}=e,{hovered:S=null}=e,{eventsIfTopMost:G=!1}=e,{interactive:F=!0}=e;function X(d){S=d,n(0,S)}function D(d){Le.call(this,s,d)}function W(d){Le.call(this,s,d)}function U(d){Le.call(this,s,d)}function E(d){Le.call(this,s,d)}function Y(d){Le.call(this,s,d)}function Z(d){Le.call(this,s,d)}return s.$$set=d=>{"id"in d&&n(1,o=d.id),"source"in d&&n(2,r=d.source),"sourceLayer"in d&&n(3,f=d.sourceLayer),"beforeId"in d&&n(4,i=d.beforeId),"beforeLayerType"in d&&n(5,a=d.beforeLayerType),"paint"in d&&n(6,b=d.paint),"layout"in d&&n(7,O=d.layout),"filter"in d&&n(8,M=d.filter),"applyToClusters"in d&&n(9,k=d.applyToClusters),"minzoom"in d&&n(10,I=d.minzoom),"maxzoom"in d&&n(11,h=d.maxzoom),"hoverCursor"in d&&n(12,y=d.hoverCursor),"manageHoverState"in d&&n(13,J=d.manageHoverState),"hovered"in d&&n(0,S=d.hovered),"eventsIfTopMost"in d&&n(14,G=d.eventsIfTopMost),"interactive"in d&&n(15,F=d.interactive),"$$scope"in d&&n(24,l=d.$$scope)},[S,o,r,f,i,a,b,O,M,k,I,h,y,J,G,F,t,X,D,W,U,E,Y,Z,l]}class nn extends re{constructor(e){super(),ie(this,e,tn,en,ne,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,applyToClusters:9,minzoom:10,maxzoom:11,hoverCursor:12,manageHoverState:13,hovered:0,eventsIfTopMost:14,interactive:15})}}const ze=Pt(Ne());function ln(s){let e,n,t,l,o,r,f,i,a,b;return{c(){e=m("div"),n=m("label"),t=R(`Basemap:
    `),l=m("select"),o=m("option"),o.textContent="MapTiler Dataviz",r=m("option"),r.textContent="MapTiler Streets",f=m("option"),f.textContent="MapTiler Satellite",i=m("option"),i.textContent="Blank",o.__value="dataviz",Te(o,o.__value),r.__value="streets",Te(r,r.__value),f.__value="hybrid",Te(f,f.__value),i.__value="blank",Te(i,i.__value),s[0]===void 0&&vt(()=>s[1].call(l))},m(O,M){_(O,e,M),u(e,n),u(n,t),u(n,l),u(l,o),u(l,r),u(l,f),u(l,i),Pe(l,s[0],!0),a||(b=pe(l,"change",s[1]),a=!0)},p(O,[M]){M&1&&Pe(l,O[0])},i:V,o:V,d(O){O&&g(e),a=!1,b()}}}function on(s,e,n){let t;K(s,Xe,o=>n(0,t=o));function l(){t=wt(this),Xe.set(t)}return[t,l]}class sn extends re{constructor(e){super(),ie(this,e,on,ln,ne,{})}}function lt(s,e,n){const t=s.slice();return t[1]=e[n][0],t[2]=e[n][1],t}function ot(s){let e,n,t,l=s[1]+"",o,r;return{c(){e=m("li"),n=m("span"),t=v(),o=R(l),r=v(),ee(n,"class","svelte-kzgqtg"),Ye(n,"background",s[2])},m(f,i){_(f,e,i),u(e,n),u(e,t),u(e,o),u(e,r)},p(f,i){i&1&&Ye(n,"background",f[2]),i&1&&l!==(l=f[1]+"")&&Ct(o,l)},d(f){f&&g(e)}}}function rn(s){let e,n=he(s[0]),t=[];for(let l=0;l<n.length;l+=1)t[l]=ot(lt(s,n,l));return{c(){e=m("ul");for(let l=0;l<t.length;l+=1)t[l].c()},m(l,o){_(l,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(l,[o]){if(o&1){n=he(l[0]);let r;for(r=0;r<n.length;r+=1){const f=lt(l,n,r);t[r]?t[r].p(f,o):(t[r]=ot(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=n.length}},i:V,o:V,d(l){l&&g(e),De(t,l)}}}function fn(s,e,n){let{rows:t}=e;return s.$$set=l=>{"rows"in l&&n(0,t=l.rows)},[t]}class un extends re{constructor(e){super(),ie(this,e,fn,rn,ne,{rows:0})}}function an(s){let e,n,t,l,o,r,f,i;return{c(){e=m("div"),n=m("label"),t=R(`Theme:
    `),l=m("select"),o=m("option"),o.textContent="Debug",r=m("option"),r.textContent="Realistic",o.__value="debug",Te(o,o.__value),r.__value="realistic",Te(r,r.__value),s[0]===void 0&&vt(()=>s[1].call(l))},m(a,b){_(a,e,b),u(e,n),u(n,t),u(n,l),u(l,o),u(l,r),Pe(l,s[0],!0),f||(i=pe(l,"change",s[1]),f=!0)},p(a,[b]){b&1&&Pe(l,a[0])},i:V,o:V,d(a){a&&g(e),f=!1,i()}}}function cn(s,e,n){let t;K(s,$e,o=>n(0,t=o));function l(){t=wt(this),$e.set(t)}return[t,l]}class mn extends re{constructor(e){super(),ie(this,e,cn,an,ne,{})}}function pn(s){let e,n=s[6].properties.kind+"",t;return{c(){e=m("p"),t=R(n)},m(l,o){_(l,e,o),u(e,t)},p(l,o){o&64&&n!==(n=l[6].properties.kind+"")&&Ct(t,n)},d(l){l&&g(e)}}}function dn(s){let e,n;return e=new Ve({props:{openOn:"hover",$$slots:{default:[pn,({data:t})=>({6:t}),({data:t})=>t?64:0]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},m(t,l){B(e,t,l),n=!0},p(t,l){const o={};l&192&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function _n(s){let e,n;const t=[He("block"),{paint:{"fill-color":xe("kind",s[4],"red"),"fill-opacity":.8}}];let l={$$slots:{default:[dn]},$$scope:{ctx:s}};for(let o=0;o<t.length;o+=1)l=Ge(l,t[o]);return e=new qe({props:l}),{c(){N(e.$$.fragment)},m(o,r){B(e,o,r),n=!0},p(o,r){const f=r&16?Fe(t,[t[0],{paint:{"fill-color":xe("kind",o[4],"red"),"fill-opacity":.8}}]):{};r&128&&(f.$$scope={dirty:r,ctx:o}),e.$set(f)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function st(s){let e,n;return e=new un({props:{rows:Object.entries(s[4])}}),{c(){N(e.$$.fragment)},m(t,l){B(e,t,l),n=!0},p:V,i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function gn(s){let e,n,t,l,o,r,f,i,a,b,O,M,k,I;e=new Ee({props:{data:s[0],$$slots:{default:[_n]},$$scope:{ctx:s}}});let h=s[1]&&st(s);return{c(){N(e.$$.fragment),n=v(),t=m("div"),l=R(`Blocks
  `),o=m("button"),r=R("Clear"),i=v(),a=m("button"),a.textContent="Find all",b=v(),h&&h.c(),O=Je(),o.disabled=f=!s[1]},m(y,J){B(e,y,J),_(y,n,J),_(y,t,J),u(t,l),u(t,o),u(o,r),u(t,i),u(t,a),_(y,b,J),h&&h.m(y,J),_(y,O,J),M=!0,k||(I=[pe(o,"click",s[2]),pe(a,"click",s[3])],k=!0)},p(y,[J]){const S={};J&1&&(S.data=y[0]),J&128&&(S.$$scope={dirty:J,ctx:y}),e.$set(S),(!M||J&2&&f!==(f=!y[1]))&&(o.disabled=f),y[1]?h?(h.p(y,J),J&2&&w(h,1)):(h=st(y),h.c(),w(h,1),h.m(O.parentNode,O)):h&&(Se(),C(h,1,1,()=>{h=null}),Ie())},i(y){M||(w(e.$$.fragment,y),w(h),M=!0)},o(y){C(e.$$.fragment,y),C(h),M=!1},d(y){y&&(g(n),g(t),g(b),g(O)),z(e,y),h&&h.d(y),k=!1,Ot(I)}}}function hn(s,e,n){let t,l,o;K(s,de,a=>n(5,l=a)),K(s,ze,a=>n(0,o=a));function r(){ze.set(Ne())}function f(){ze.set(JSON.parse(l.findAllBlocks()))}let i={RoadAndSidewalk:"green",RoadAndCycleLane:"orange",CycleLaneAndSidewalk:"yellow",DualCarriageway:"purple",Unknown:"blue"};return s.$$.update=()=>{s.$$.dirty&1&&n(1,t=o.features.length>0)},[o,t,r,f,i]}class bn extends re{constructor(e){super(),ie(this,e,hn,gn,ne,{})}}function kn(s){let e,n;const t=[He("connected-roads"),{layout:{visibility:s[0]?"visible":"none"}},{paint:{"fill-color":"blue","fill-opacity":.5}}];let l={};for(let o=0;o<t.length;o+=1)l=Ge(l,t[o]);return e=new qe({props:l}),{c(){N(e.$$.fragment)},m(o,r){B(e,o,r),n=!0},p(o,r){const f=r&1?Fe(t,[t[0],{layout:{visibility:o[0]?"visible":"none"}},t[2]]):{};e.$set(f)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function yn(s){let e,n,t,l,o;e=new Ee({props:{data:s[1],$$slots:{default:[kn]},$$scope:{ctx:s}}});function r(i){s[4](i)}let f={gj:s[1],name:"Roads connected to intersection",downloadable:!1};return s[0]!==void 0&&(f.show=s[0]),t=new Ue({props:f}),ve.push(()=>Re(t,"show",r)),{c(){N(e.$$.fragment),n=v(),N(t.$$.fragment)},m(i,a){B(e,i,a),_(i,n,a),B(t,i,a),o=!0},p(i,[a]){const b={};a&2&&(b.data=i[1]),a&33&&(b.$$scope={dirty:a,ctx:i}),e.$set(b);const O={};a&2&&(O.gj=i[1]),!l&&a&1&&(l=!0,O.show=i[0],Ae(()=>l=!1)),t.$set(O)},i(i){o||(w(e.$$.fragment,i),w(t.$$.fragment,i),o=!0)},o(i){C(e.$$.fragment,i),C(t.$$.fragment,i),o=!1},d(i){i&&g(n),z(e,i),z(t,i)}}}function vn(s,e,n){let t,l,o;K(s,Lt,i=>n(2,l=i)),K(s,de,i=>n(3,o=i));let r=!0;function f(i){r=i,n(0,r)}return s.$$.update=()=>{s.$$.dirty&12&&n(1,t=o&&l?JSON.parse(o.debugRoadsConnectedToIntersectionGeojson(l.properties.id)):Ne())},[r,t,l,o,f]}class wn extends re{constructor(e){super(),ie(this,e,vn,yn,ne,{})}}function Cn(s){let e,n;const t=[He("movements"),{layout:{visibility:s[0]?"visible":"none"}},{paint:{"fill-color":"blue","fill-opacity":.5}}];let l={};for(let o=0;o<t.length;o+=1)l=Ge(l,t[o]);return e=new qe({props:l}),{c(){N(e.$$.fragment)},m(o,r){B(e,o,r),n=!0},p(o,r){const f=r&1?Fe(t,[t[0],{layout:{visibility:o[0]?"visible":"none"}},t[2]]):{};e.$set(f)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function On(s){let e,n,t,l,o;e=new Ee({props:{data:s[1],$$slots:{default:[Cn]},$$scope:{ctx:s}}});function r(i){s[4](i)}let f={gj:s[1],name:"Movement arrows",downloadable:!1};return s[0]!==void 0&&(f.show=s[0]),t=new Ue({props:f}),ve.push(()=>Re(t,"show",r)),{c(){N(e.$$.fragment),n=v(),N(t.$$.fragment)},m(i,a){B(e,i,a),_(i,n,a),B(t,i,a),o=!0},p(i,[a]){const b={};a&2&&(b.data=i[1]),a&33&&(b.$$scope={dirty:a,ctx:i}),e.$set(b);const O={};a&2&&(O.gj=i[1]),!l&&a&1&&(l=!0,O.show=i[0],Ae(()=>l=!1)),t.$set(O)},i(i){o||(w(e.$$.fragment,i),w(t.$$.fragment,i),o=!0)},o(i){C(e.$$.fragment,i),C(t.$$.fragment,i),o=!1},d(i){i&&g(n),z(e,i),z(t,i)}}}function Ln(s,e,n){let t,l,o;K(s,Jt,i=>n(2,l=i)),K(s,de,i=>n(3,o=i));let r=!0;function f(i){r=i,n(0,r)}return s.$$.update=()=>{s.$$.dirty&12&&n(1,t=o&&l?JSON.parse(o.debugMovementsFromLaneGeojson(l.properties.road,l.properties.index)):Ne())},[r,t,l,o,f]}class Mn extends re{constructor(e){super(),ie(this,e,Ln,On,ne,{})}}function Tn(s){let e,n,t,l,o,r;return{c(){e=m("div"),n=m("label"),t=m("input"),l=R(`
    Clockwise ordering of roads`),ee(t,"type","checkbox")},m(f,i){_(f,e,i),u(e,n),u(n,t),t.checked=s[0],u(n,l),o||(r=pe(t,"change",s[5]),o=!0)},p(f,[i]){i&1&&(t.checked=f[0])},i:V,o:V,d(f){f&&g(e),o=!1,r()}}}function Sn(s,e,n){let t,l,o;K(s,Rt,a=>n(2,t=a)),K(s,Lt,a=>n(3,l=a)),K(s,de,a=>n(4,o=a));let r=[],f=!1;function i(){f=this.checked,n(0,f)}return s.$$.update=()=>{if(s.$$.dirty&31){for(let a of r)a.remove();if(n(1,r=[]),f&&l){let a=JSON.parse(o.debugClockwiseOrderingForIntersectionGeojson(l.properties.id));for(let b of a.features)r.push(new At.Popup({closeButton:!1,closeOnClick:!1,focusAfterOpen:!1}).setLngLat(b.geometry.coordinates).setHTML(b.properties.label).addTo(t))}}},[f,r,t,l,o,i]}class In extends re{constructor(e){super(),ie(this,e,Sn,Tn,ne,{})}}function jn(s){let e,n;const t=[He("debug-ids"),{layout:{"text-field":["get","id"],visibility:s[0]?"visible":"none"}},{paint:{"text-halo-color":["case",["==",["get","type"],"intersection"],"red","cyan"],"text-halo-width":3}}];let l={};for(let o=0;o<t.length;o+=1)l=Ge(l,t[o]);return e=new nn({props:l}),{c(){N(e.$$.fragment)},m(o,r){B(e,o,r),n=!0},p(o,r){const f=r&1?Fe(t,[t[0],{layout:{"text-field":["get","id"],visibility:o[0]?"visible":"none"}},t[2]]):{};e.$set(f)},i(o){n||(w(e.$$.fragment,o),n=!0)},o(o){C(e.$$.fragment,o),n=!1},d(o){z(e,o)}}}function Nn(s){let e,n,t,l,o;e=new Ee({props:{data:s[1],generateId:!0,$$slots:{default:[jn]},$$scope:{ctx:s}}});function r(i){s[3](i)}let f={gj:s[1],name:"Debug IDs"};return s[0]!==void 0&&(f.show=s[0]),t=new Ue({props:f}),ve.push(()=>Re(t,"show",r)),{c(){N(e.$$.fragment),n=v(),N(t.$$.fragment)},m(i,a){B(e,i,a),_(i,n,a),B(t,i,a),o=!0},p(i,[a]){const b={};a&2&&(b.data=i[1]),a&17&&(b.$$scope={dirty:a,ctx:i}),e.$set(b);const O={};a&2&&(O.gj=i[1]),!l&&a&1&&(l=!0,O.show=i[0],Ae(()=>l=!1)),t.$set(O)},i(i){o||(w(e.$$.fragment,i),w(t.$$.fragment,i),o=!0)},o(i){C(e.$$.fragment,i),C(t.$$.fragment,i),o=!1},d(i){i&&g(n),z(e,i),z(t,i)}}}function Bn(s,e,n){let t,l;K(s,de,f=>n(2,l=f));let o=!1;function r(f){o=f,n(0,o)}return s.$$.update=()=>{s.$$.dirty&4&&n(1,t=l?JSON.parse(l.toGeojsonPlain()):Ne())},[o,t,l,r]}class zn extends re{constructor(e){super(),ie(this,e,Bn,Nn,ne,{})}}function rt(s,e,n){const t=s.slice();return t[5]=e[n],t}function it(s){const e=s.slice(),n=JSON.parse(e[0].crossing);return e[8]=n,e}function Pn(s){let e,n,t,l=s[8].kind+"",o,r,f=s[8].has_island&&Jn();return{c(){e=m("p"),n=m("u"),n.textContent="Crossing",t=R(": "),o=R(l),r=v(),f&&f.c()},m(i,a){_(i,e,a),u(e,n),u(e,t),u(e,o),u(e,r),f&&f.m(e,null)},p:V,d(i){i&&g(e),f&&f.d()}}}function Jn(s){let e;return{c(){e=R("(with an island)")},m(n,t){_(n,e,t)},d(n){n&&g(e)}}}function ft(s){let e,n=s[5]+"",t,l;return{c(){e=m("a"),t=R(n),l=R(","),ee(e,"href","https://www.openstreetmap.org/node/"+s[5]),ee(e,"target","_blank")},m(o,r){_(o,e,r),u(e,t),_(o,l,r)},p:V,d(o){o&&(g(e),g(l))}}}function Rn(s){let e,n,t,l,o,r=s[0].intersection_kind+"",f,i,a,b,O,M=s[0].control+"",k,I,h,y,J,S=s[0].movements+"",G,F,X,D,W,U,E,Y,Z,d,le,q=s[0].crossing&&Pn(it(s)),oe=he(JSON.parse(s[0].osm_node_ids)),H=[];for(let p=0;p<oe.length;p+=1)H[p]=ft(rt(s,oe,p));return{c(){e=m("h2"),e.textContent=`Intersection #${s[0].id}`,n=v(),t=m("p"),l=m("u"),l.textContent="Kind",o=R(": "),f=R(r),i=v(),a=m("p"),b=m("u"),b.textContent="Control",O=R(": "),k=R(M),I=v(),h=m("p"),y=m("u"),y.textContent="Movements",J=R(": "),G=R(S),F=v(),q&&q.c(),X=v(),D=m("p"),W=m("u"),W.textContent="OSM nodes",U=R(`:
  `);for(let p=0;p<H.length;p+=1)H[p].c();E=v(),Y=m("div"),Z=m("button"),Z.textContent="Collapse intersection",ee(Z,"type","button")},m(p,j){_(p,e,j),_(p,n,j),_(p,t,j),u(t,l),u(t,o),u(t,f),_(p,i,j),_(p,a,j),u(a,b),u(a,O),u(a,k),_(p,I,j),_(p,h,j),u(h,y),u(h,J),u(h,G),_(p,F,j),q&&q.m(p,j),_(p,X,j),_(p,D,j),u(D,W),u(D,U);for(let P=0;P<H.length;P+=1)H[P]&&H[P].m(D,null);_(p,E,j),_(p,Y,j),u(Y,Z),d||(le=pe(Z,"click",s[1]),d=!0)},p(p,[j]){if(p[0].crossing&&q.p(it(p),j),j&1){oe=he(JSON.parse(p[0].osm_node_ids));let P;for(P=0;P<oe.length;P+=1){const L=rt(p,oe,P);H[P]?H[P].p(L,j):(H[P]=ft(L),H[P].c(),H[P].m(D,null))}for(;P<H.length;P+=1)H[P].d(1);H.length=oe.length}},i:V,o:V,d(p){p&&(g(e),g(n),g(t),g(i),g(a),g(I),g(h),g(F),g(X),g(D),g(E),g(Y)),q&&q.d(p),De(H,p),d=!1,le()}}}function An(s,e,n){let t;K(s,de,i=>n(4,t=i));let{data:l}=e,{close:o}=e,r=l.properties;function f(){t.collapseIntersection(r.id),de.set(t),o()}return s.$$set=i=>{"data"in i&&n(2,l=i.data),"close"in i&&n(3,o=i.close)},[r,f,l,o]}class Dn extends re{constructor(e){super(),ie(this,e,An,Rn,ne,{data:2,close:3})}}function ut(s,e,n){const t=s.slice();return t[10]=e[n],t}function at(s,e,n){const t=s.slice();return t[13]=e[n][0],t[14]=e[n][1],t}function En(s){let e,n,t,l;return{c(){e=m("details"),n=m("summary"),n.textContent="Full Muv JSON",t=v(),l=m("pre"),l.textContent=`${JSON.stringify(JSON.parse(s[0].muv),null,"  ")}`},m(o,r){_(o,e,r),u(e,n),u(e,t),u(e,l)},p:V,d(o){o&&g(e)}}}function ct(s){let e,n,t;return{c(){e=m("tr"),n=m("td"),n.textContent=`${s[13]}`,t=m("td"),t.textContent=`${s[14]}`,ee(n,"class","svelte-860yh4"),ee(t,"class","svelte-860yh4")},m(l,o){_(l,e,o),u(e,n),u(e,t)},p:V,d(l){l&&g(e)}}}function mt(s){let e,n,t=s[10]+"",l,o,r,f,i,a,b,O=he(Object.entries(JSON.parse(s[1].getOsmTagsForWay(BigInt(s[10]))))),M=[];for(let k=0;k<O.length;k+=1)M[k]=ct(at(s,O,k));return{c(){e=m("p"),n=m("a"),l=R(t),o=v(),r=m("details"),f=m("summary"),f.textContent="See OSM tags",i=v(),a=m("table"),b=m("tbody");for(let k=0;k<M.length;k+=1)M[k].c();ee(n,"href","https://www.openstreetmap.org/way/"+s[10]),ee(n,"target","_blank")},m(k,I){_(k,e,I),u(e,n),u(n,l),_(k,o,I),_(k,r,I),u(r,f),u(r,i),u(r,a),u(a,b);for(let h=0;h<M.length;h+=1)M[h]&&M[h].m(b,null)},p(k,I){if(I&3){O=he(Object.entries(JSON.parse(k[1].getOsmTagsForWay(BigInt(k[10])))));let h;for(h=0;h<O.length;h+=1){const y=at(k,O,h);M[h]?M[h].p(y,I):(M[h]=ct(y),M[h].c(),M[h].m(b,null))}for(;h<M.length;h+=1)M[h].d(1);M.length=O.length}},d(k){k&&(g(e),g(o),g(r)),De(M,k)}}}function Hn(s){let e,n,t,l,o,r=s[0].type+"",f,i,a,b,O,M=s[0].direction+"",k,I,h,y,J,S=s[0].width+"",G,F,X,D,W,U,E=s[0].speed_limit+"",Y,Z,d,le,q,oe=s[0].allowed_turns+"",H,p,j,P,L,se=s[0].layer+"",$,x,fe,ce,we,be,Ce,ge,ue,ae,Be,ke,c,me,_e,Ke,je,We,Ze,ye=s[0].muv&&En(s),Oe=he(JSON.parse(s[0].osm_way_ids)),te=[];for(let T=0;T<Oe.length;T+=1)te[T]=mt(ut(s,Oe,T));return{c(){e=m("h2"),e.textContent=`Lane ${s[0].index} of Road ${s[0].road}`,n=v(),t=m("p"),l=m("u"),l.textContent="Type",o=R(": "),f=R(r),i=v(),a=m("p"),b=m("u"),b.textContent="Direction",O=R(": "),k=R(M),I=v(),h=m("p"),y=m("u"),y.textContent="Width",J=R(": "),G=R(S),F=R("m"),X=v(),D=m("p"),W=m("u"),W.textContent="Speed limit",U=R(": "),Y=R(E),Z=v(),d=m("p"),le=m("u"),le.textContent="Allowed turns",q=R(": "),H=R(oe),p=v(),j=m("p"),P=m("u"),P.textContent="Layer",L=R(": "),$=R(se),x=v(),ye&&ye.c(),fe=v(),ce=m("hr"),we=v(),be=m("p"),be.innerHTML="<u>OSM ways:</u>",Ce=v();for(let T=0;T<te.length;T+=1)te[T].c();ge=v(),ue=m("div"),ae=m("button"),ae.textContent="Collapse short road",Be=v(),ke=m("button"),ke.textContent="Zip side-path",c=v(),me=m("div"),_e=m("button"),_e.textContent="Find block on left",Ke=v(),je=m("button"),je.textContent="Find block on right",ee(ae,"type","button"),ee(ke,"type","button"),ee(_e,"type","button"),ee(je,"type","button")},m(T,A){_(T,e,A),_(T,n,A),_(T,t,A),u(t,l),u(t,o),u(t,f),_(T,i,A),_(T,a,A),u(a,b),u(a,O),u(a,k),_(T,I,A),_(T,h,A),u(h,y),u(h,J),u(h,G),u(h,F),_(T,X,A),_(T,D,A),u(D,W),u(D,U),u(D,Y),_(T,Z,A),_(T,d,A),u(d,le),u(d,q),u(d,H),_(T,p,A),_(T,j,A),u(j,P),u(j,L),u(j,$),_(T,x,A),ye&&ye.m(T,A),_(T,fe,A),_(T,ce,A),_(T,we,A),_(T,be,A),_(T,Ce,A);for(let Q=0;Q<te.length;Q+=1)te[Q]&&te[Q].m(T,A);_(T,ge,A),_(T,ue,A),u(ue,ae),u(ue,Be),u(ue,ke),_(T,c,A),_(T,me,A),u(me,_e),u(me,Ke),u(me,je),We||(Ze=[pe(ae,"click",s[2]),pe(ke,"click",s[3]),pe(_e,"click",s[7]),pe(je,"click",s[8])],We=!0)},p(T,[A]){if(T[0].muv&&ye.p(T,A),A&3){Oe=he(JSON.parse(T[0].osm_way_ids));let Q;for(Q=0;Q<Oe.length;Q+=1){const Qe=ut(T,Oe,Q);te[Q]?te[Q].p(Qe,A):(te[Q]=mt(Qe),te[Q].c(),te[Q].m(ge.parentNode,ge))}for(;Q<te.length;Q+=1)te[Q].d(1);te.length=Oe.length}},i:V,o:V,d(T){T&&(g(e),g(n),g(t),g(i),g(a),g(I),g(h),g(X),g(D),g(Z),g(d),g(p),g(j),g(x),g(fe),g(ce),g(we),g(be),g(Ce),g(ge),g(ue),g(c),g(me)),ye&&ye.d(T),De(te,T),We=!1,Ot(Ze)}}}function Gn(s,e,n){let t;K(s,de,k=>n(9,t=k));let{data:l}=e,{close:o}=e,r=l.properties,f=t;function i(){t.collapseShortRoad(r.road),de.set(t),o()}function a(){t.zipSidepath(r.road),de.set(t),o()}function b(k){try{ze.set(JSON.parse(t.findBlock(r.road,k)))}catch(I){window.alert(I)}o()}const O=()=>b(!0),M=()=>b(!1);return s.$$set=k=>{"data"in k&&n(5,l=k.data),"close"in k&&n(6,o=k.close)},[r,f,i,a,b,l,o,O,M]}class Fn extends re{constructor(e){super(),ie(this,e,Gn,Hn,ne,{data:5,close:6})}}function pt(s){let e,n;return e=new Ft({}),{c(){N(e.$$.fragment)},m(t,l){B(e,t,l),n=!0},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Wn(s){let e,n,t,l,o,r,f,i,a,b,O,M,k,I,h,y,J;l=new Et({});let S=s[2]&&pt();return{c(){e=m("div"),n=m("h1"),n.textContent="osm2streets Street Explorer",t=v(),N(l.$$.fragment),o=v(),r=m("p"),r.innerHTML=`Understanding OSM streets &amp; intersections with
      <a href="https://github.com/a-b-street/osm2streets" target="_blank">osm2streets</a>
      and <a href="https://gitlab.com/LeLuxNet/Muv" target="_blank">Muv</a>.`,f=v(),i=m("hr"),a=v(),S&&S.c(),b=v(),O=m("br"),M=v(),k=m("details"),I=m("summary"),I.textContent="Layers",h=v(),y=m("div"),k.open=!0,ee(k,"class","svelte-1n0zlav"),ee(e,"slot","left")},m(G,F){_(G,e,F),u(e,n),u(e,t),B(l,e,null),u(e,o),u(e,r),u(e,f),u(e,i),u(e,a),S&&S.m(e,null),u(e,b),u(e,O),u(e,M),u(e,k),u(k,I),u(k,h),u(k,y),s[4](y),J=!0},p(G,F){G[2]?S?F&4&&w(S,1):(S=pt(),S.c(),w(S,1),S.m(e,b)):S&&(Se(),C(S,1,1,()=>{S=null}),Ie())},i(G){J||(w(l.$$.fragment,G),w(S),J=!0)},o(G){C(l.$$.fragment,G),C(S),J=!1},d(G){G&&g(e),z(l),S&&S.d(),s[4](null)}}}function dt(s){let e,n;return e=new Dn({props:{data:s[5],close:s[6]}}),{c(){N(e.$$.fragment)},m(t,l){B(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.data=t[5]),l&64&&(o.close=t[6]),e.$set(o)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function qn(s){let e=s[5],n,t,l=dt(s);return{c(){l.c(),n=Je()},m(o,r){l.m(o,r),_(o,n,r),t=!0},p(o,r){r&32&&ne(e,e=o[5])?(Se(),C(l,1,1,V),Ie(),l=dt(o),l.c(),w(l,1),l.m(n.parentNode,n)):l.p(o,r)},i(o){t||(w(l),t=!0)},o(o){C(l),t=!1},d(o){o&&g(n),l.d(o)}}}function Un(s){let e,n;return e=new Ve({props:{openOn:"click",popupClass:"popup",$$slots:{default:[qn,({data:t,close:l})=>({5:t,6:l}),({data:t,close:l})=>(t?32:0)|(l?64:0)]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},m(t,l){B(e,t,l),n=!0},p(t,l){const o={};l&224&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function _t(s){let e,n;return e=new Fn({props:{data:s[5],close:s[6]}}),{c(){N(e.$$.fragment)},m(t,l){B(e,t,l),n=!0},p(t,l){const o={};l&32&&(o.data=t[5]),l&64&&(o.close=t[6]),e.$set(o)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Vn(s){let e=s[5],n,t,l=_t(s);return{c(){l.c(),n=Je()},m(o,r){l.m(o,r),_(o,n,r),t=!0},p(o,r){r&32&&ne(e,e=o[5])?(Se(),C(l,1,1,V),Ie(),l=_t(o),l.c(),w(l,1),l.m(n.parentNode,n)):l.p(o,r)},i(o){t||(w(l),t=!0)},o(o){C(l),t=!1},d(o){o&&g(n),l.d(o)}}}function Kn(s){let e,n;return e=new Ve({props:{openOn:"click",popupClass:"popup",$$slots:{default:[Vn,({data:t,close:l})=>({5:t,6:l}),({data:t,close:l})=>(t?32:0)|(l?64:0)]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},m(t,l){B(e,t,l),n=!0},p(t,l){const o={};l&224&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Zn(s){let e,n,t,l,o,r,f,i,a,b,O,M,k,I,h,y,J,S,G,F,X,D,W,U,E,Y,Z,d,le,q,oe,H,p,j,P;return n=new Wt({}),l=new qt({props:{hoverCursor:"pointer",$$slots:{default:[Un]},$$scope:{ctx:s}}}),r=new Ut({}),i=new Vt({props:{hoverCursor:"pointer",$$slots:{default:[Kn]},$$scope:{ctx:s}}}),b=new Kt({}),I=new bn({}),S=new Mn({}),F=new In({}),D=new wn({}),U=new zn({}),d=new sn({}),q=new mn({}),H=new Zt({}),j=new Qt({}),{c(){e=m("div"),N(n.$$.fragment),t=v(),N(l.$$.fragment),o=v(),N(r.$$.fragment),f=v(),N(i.$$.fragment),a=v(),N(b.$$.fragment),O=v(),M=m("hr"),k=v(),N(I.$$.fragment),h=v(),y=m("hr"),J=v(),N(S.$$.fragment),G=v(),N(F.$$.fragment),X=v(),N(D.$$.fragment),W=v(),N(U.$$.fragment),E=v(),Y=m("hr"),Z=v(),N(d.$$.fragment),le=v(),N(q.$$.fragment),oe=v(),N(H.$$.fragment),p=v(),N(j.$$.fragment)},m(L,se){_(L,e,se),B(n,e,null),u(e,t),B(l,e,null),u(e,o),B(r,e,null),u(e,f),B(i,e,null),u(e,a),B(b,e,null),u(e,O),u(e,M),u(e,k),B(I,e,null),u(e,h),u(e,y),u(e,J),B(S,e,null),u(e,G),B(F,e,null),u(e,X),B(D,e,null),u(e,W),B(U,e,null),u(e,E),u(e,Y),u(e,Z),B(d,e,null),u(e,le),B(q,e,null),u(e,oe),B(H,e,null),s[3](e),_(L,p,se),B(j,L,se),P=!0},p(L,se){const $={};se&128&&($.$$scope={dirty:se,ctx:L}),l.$set($);const x={};se&128&&(x.$$scope={dirty:se,ctx:L}),i.$set(x)},i(L){P||(w(n.$$.fragment,L),w(l.$$.fragment,L),w(r.$$.fragment,L),w(i.$$.fragment,L),w(b.$$.fragment,L),w(I.$$.fragment,L),w(S.$$.fragment,L),w(F.$$.fragment,L),w(D.$$.fragment,L),w(U.$$.fragment,L),w(d.$$.fragment,L),w(q.$$.fragment,L),w(H.$$.fragment,L),w(j.$$.fragment,L),P=!0)},o(L){C(n.$$.fragment,L),C(l.$$.fragment,L),C(r.$$.fragment,L),C(i.$$.fragment,L),C(b.$$.fragment,L),C(I.$$.fragment,L),C(S.$$.fragment,L),C(F.$$.fragment,L),C(D.$$.fragment,L),C(U.$$.fragment,L),C(d.$$.fragment,L),C(q.$$.fragment,L),C(H.$$.fragment,L),C(j.$$.fragment,L),P=!1},d(L){L&&(g(e),g(p)),z(n),z(l),z(r),z(i),z(b),z(I),z(S),z(F),z(D),z(U),z(d),z(q),z(H),s[3](null),z(j,L)}}}function Qn(s){let e,n,t;return n=new Ht({props:{$$slots:{default:[Zn]},$$scope:{ctx:s}}}),{c(){e=m("div"),N(n.$$.fragment),ee(e,"slot","main")},m(l,o){_(l,e,o),B(n,e,null),t=!0},p(l,o){const r={};o&129&&(r.$$scope={dirty:o,ctx:l}),n.$set(r)},i(l){t||(w(n.$$.fragment,l),t=!0)},o(l){C(n.$$.fragment,l),t=!1},d(l){l&&g(e),z(n)}}}function Xn(s){let e,n;return e=new Dt({props:{$$slots:{main:[Qn],left:[Wn]},$$scope:{ctx:s}}}),{c(){N(e.$$.fragment)},m(t,l){B(e,t,l),n=!0},p(t,[l]){const o={};l&135&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){n||(w(e.$$.fragment,t),n=!0)},o(t){C(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Yn(s,e,n){let t=!1;gt(async()=>{await Gt(),n(2,t=!0)});let l=null,o;function r(i){ve[i?"unshift":"push"](()=>{l=i,n(0,l)})}function f(i){ve[i?"unshift":"push"](()=>{o=i,n(1,o),n(0,l)})}return s.$$.update=()=>{s.$$.dirty&3&&l&&o&&(n(1,o.innerHTML="",o),o.appendChild(l))},[l,o,t,r,f]}class $n extends re{constructor(e){super(),ie(this,e,Yn,Xn,ne,{})}}new $n({target:document.getElementById("app")});
